# OnlineRetail
Customer Segmentation using RFM analysis
نتایج چالش داده

لازم به ذکر است در اسکریپت ارسال شده تلاش شده بگونه‌ای داستان محور، نتایج تحلیل‌ها و چالش‌ها تا حد ممکن داکیومنت شود، با این وجود در این داکیومت، بصورت خلاصه هایلایت های چالش رو مرور میکنیم.

اول از هر چیز درک مدل داده مدنظر است. در اینجا با یک سری زمانی طرف هستیم که تراکنش ها بصورت batch در زمان های مختلف توسط مشتری های مختلف اتفاق افتاده‌اند.
نکته قابل توجه امکان مرجوعی کالاست که با مقادیر منفی قیمت ها یا آیدی هر تراکنش مشخص شده‌اند. نکته مهم اینکه بعضی تراکنش های مرجوعی، در زمان خرید داده هایی داشته اند که پیش از زمان شروع رکوردهایی که در اختیارمان هستند، ثبت شده اند. بنابراین تصمیم بر این شد که اینگونه تراکنش ها برای تحلیل RFM مدنظر قرار نگیرند که باعث ایجاد مقادیر منفی نشوند. (چون با قطعیت میدانیم که بخشی از دیتایی که مربوط به این مشتریان هستند رو نداریم.)

همچنین آیدی مشتریان 25 درصد تراکنش ها در دسترس نیستند. قطعا راه‌حل هایی برای تخمین و جایگزین کردن این داده‌ها وجود دارند، اما چون خروجی نهایی تحلیل مورد نظرمان مستقیما به مشتری‌ها مربوط است، بهترین راه حذف این داده هاست. 

پس از درک مدل داده ها و مکانیسمشان نگاهی به بخش های مختلف داده ها انداخته شده و سعی شده بینش های مختلفی از آنها استخراج شود. این نمودار های شامل توزیع مختلف دسته‌ها، قیمت‌ها، مقادیر، کشور مشتریها، ساعات و روز های تراکنش ها و.. است که به همراه توضیحات لازم در اسکریپت موجود است.

سپس به آماده سازی داده جهت تحلیل RMF پرداخته شده که در هر مرحله جزئیات کدها بصورت کامنت توضیح داده شده. بطور کلی موارد مورد نیاز تحلیل بصورت زیر تعریف شدند:
Recency:
ابتدا اختلاف زمانی میان هر بچ تراکنش محاسبه شده و میانگین این مقادیر به ازای هر مشتری را recency تعریف کردیم. (دقت داشته باشیم که وزن هر بچ صرفنظر از تعداد اقلام آن تراکنش، 1 در نظر گرفته شده.)
همچنین در مورد روش های دیگری که می‌توانستیم برای تعریف recency در نظر بگیریم توضیحاتی ارائه شده.
Frequency:
تعداد تراکنش های هر مشتری رو frequency تعریف کردیم. (در اینجا تعداد تراکنش های هر بچ در نظر گرفته شده)
Monetary:
مجموع مبلغ تراکنش های هر مشتری را monetary تعریف کردیم.

لازم به ذکر است در مورد جزئیات نحوه تعریف recency و frequency راه‌حل های مختلفی داریم. مثلا میتوانیم تعداد هر کالا در هر تراکنش را مورد نظر برای وزن دهی قرار دهیم. یا اینکه برای هر شاخص تعداد تراکنش های هر بچ را درنظر بگیریم یا نه. تصمیم گیری در مورد جزئیات این موارد بیشتر نیازمند domain knowledge در حوزه همان کسب و کار است و میتواند بسته با شرایط مختلف متفاوت باشد. 

در ادامه برای تسهیل تصمیم گیری در مورد نحوه امتیاز دهی و دسته بندی داده ها برای هر شاخص نمودار تجمعی ارائه شده است، اما برای سادگی تحلیل، امتیازدهی بر اساس کوانتایل اول تا پنجم انجام شده(یعنی به هر بیست درصد از داده، امتیازی از 1 تا  5 اختصاص دادیم.)
*استثناء در مورد recency از انجایی که recency صفر به معنی این از که مشتری تنها یک بار تراکنش انجام داده است (یک بچ) امتیاز صفر را به recencyهای برابر صفر، و باقی دیتا را پنج دسته مساوی کردیم و مشابه بقیه شاخص ها امتیاز دهی کردیم. 

در نهایت برای محاسبه rfm_score میانگین غیر وزنی از هر شاخص گرفته شده و چندین سگمنت از مشتریان بعنوان مثال آورده شده. 
همچنین چندین نمودار برای بررسی سگمنت‌ها ارائه شده و ایده هایی برای تحلیل بیشتر نیز فراهم شده است.
